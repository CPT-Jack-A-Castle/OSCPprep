#!/usr/bin/python3
import dns.resolver
import dns.zone
servers=[]
servers = dns.resolver.resolve('megacorpone.com', 'NS')
for i in servers:
    server_ips  = dns.resolver.resolve(i.target, 'A')
    for ip in server_ips:
        try:
            zone = dns.zone.from_xfr(dns.query.xfr(str(ip), 'megacorpone.com'))
            #print(zone)
            for host in zone:
                print("Found Host: {}".format(host)+".megacorpone.com")
        except Exception as e:
            continue
